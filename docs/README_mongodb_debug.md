# üîç –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ MongoDB

## `debug_mongodb_repo.sh` - –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ MongoDB —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤

–°–∫—Ä–∏–ø—Ç –¥–ª—è –≥–ª—É–±–æ–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º —Å MongoDB —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ, —Å–µ—Ç–∏, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.

---

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:

- **–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**: –≤–µ—Ä—Å–∏—è Ubuntu, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, —Ä–µ—Å—É—Ä—Å—ã
- **–°–µ—Ç–µ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, DNS, SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –≤–µ—Ä—Å–∏–π –∏ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤
- **–†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞**: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MongoDB 7.0
- **–ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–æ–≤**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

```bash
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫
curl -fsSL https://raw.githubusercontent.com/Muhendalf-ru/vps-script/main/debug_mongodb_repo.sh -o debug_mongodb_repo.sh && chmod +x debug_mongodb_repo.sh && sudo ./debug_mongodb_repo.sh
```

---

## üìã –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∫—Ä–∏–ø—Ç

### 1. –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –í–µ—Ä—Å–∏—è Ubuntu –∏ –∫–æ–¥–æ–≤–æ–µ –∏–º—è
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ –¥–∏—Å–∫–∞
- –í–µ—Ä—Å–∏—è —è–¥—Ä–∞

### 2. –°–µ—Ç–µ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É (ping, curl)
- DNS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–æ–º–µ–Ω–æ–≤ MongoDB
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –°–∫–æ—Ä–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### 3. GPG –∫–ª—é—á–∏

- **–°—Ç–∞—Ä—ã–π URL**: `https://www.mongodb.org/static/pgp/server-7.0.asc`
- **–ù–æ–≤—ã–π URL**: `https://pgp.mongodb.com/server-7.0.asc`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –∫–ª—é—á–µ–π
- –ò–º–ø–æ—Ä—Ç –≤ —Å–∏—Å—Ç–µ–º—É

### 4. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π:
  - `noble/mongodb-org/7.0`
  - `jammy/mongodb-org/7.0`
  - `focal/mongodb-org/7.0`
  - `bionic/mongodb-org/7.0`
- –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ apt update
- –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### 5. –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

- –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ GPG –∫–ª—é—á–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ apt
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–æ–≤

### 6. –ê–Ω–∞–ª–∏–∑ –ø–∞–∫–µ—Ç–æ–≤

- –ü–æ–∏—Å–∫ mongodb-org –ø–∞–∫–µ—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ê–Ω–∞–ª–∏–∑ –≤–µ—Ä—Å–∏–π

---

## üìä –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

### –£—Å–ø–µ—à–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
=============================================================================
üîç –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ MongoDB —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
=============================================================================

[INFO] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ Ubuntu...
–í–µ—Ä—Å–∏—è: 24.04
–ö–æ–¥–æ–≤–æ–µ –∏–º—è: noble
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: x86_64
–Ø–¥—Ä–æ: 6.8.0-31-generic

[INFO] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤...
–ü–∞–º—è—Ç—å: 2.0G / 4.0G (50%)
–î–∏—Å–∫: 15G / 50G (30%)

[INFO] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É...
[SUCCESS] –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω (ping: 8.8.8.8)
[SUCCESS] DNS —Ä–∞–±–æ—Ç–∞–µ—Ç (nslookup: repo.mongodb.org)

[INFO] –ü—Ä–æ–≤–µ—Ä–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤...
[SUCCESS] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç repo.mongodb.org –≤–∞–ª–∏–¥–µ–Ω
[SUCCESS] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç pgp.mongodb.com –≤–∞–ª–∏–¥–µ–Ω

[INFO] –ü—Ä–æ–≤–µ—Ä–∫–∞ GPG –∫–ª—é—á–µ–π...
[SUCCESS] –°—Ç–∞—Ä—ã–π GPG –∫–ª—é—á MongoDB 7.0 –¥–æ—Å—Ç—É–ø–µ–Ω
[SUCCESS] –ù–æ–≤—ã–π GPG –∫–ª—é—á MongoDB 7.0 –¥–æ—Å—Ç—É–ø–µ–Ω

[INFO] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤...
[SUCCESS] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π noble/mongodb-org/7.0 –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (–æ–∂–∏–¥–∞–µ–º–æ)
[SUCCESS] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π jammy/mongodb-org/7.0 –¥–æ—Å—Ç—É–ø–µ–Ω
[SUCCESS] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π focal/mongodb-org/7.0 –¥–æ—Å—Ç—É–ø–µ–Ω

[INFO] –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB 7.0...
[SUCCESS] GPG –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω
[SUCCESS] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–æ–±–∞–≤–ª–µ–Ω
[SUCCESS] apt update –≤—ã–ø–æ–ª–Ω–µ–Ω
[SUCCESS] –ü–∞–∫–µ—Ç mongodb-org –Ω–∞–π–¥–µ–Ω:
mongodb-org/jammy/mongodb-org/7.0 7.0.21 amd64

=============================================================================
[SUCCESS] –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
=============================================================================
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é

```bash
[INFO] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É...
[ERROR] –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (ping: 8.8.8.8)
[ERROR] DNS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (nslookup: repo.mongodb.org)

[INFO] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫...
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:
lo: 127.0.0.1/8
eth0: 192.168.1.100/24

–ú–∞—Ä—à—Ä—É—Ç—ã:
default via 192.168.1.1 dev eth0
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º

```bash
[INFO] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤...
[ERROR] –í—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
[ERROR] SSL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —É–¥–∞–µ—Ç—Å—è
[ERROR] apt update –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π

[INFO] –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ apt...
E: The repository 'https://repo.mongodb.org/apt/ubuntu jammy/mongodb-org/7.0 Release' does not have a Release file.
```

---

## üîç –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### ‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ

- –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ MongoDB
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–æ—Å—Ç—É–ø–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- –°–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- GPG –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–Ω—ã, –Ω–æ –ø–∞–∫–µ—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã

### ‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

- –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã
- –í—Å–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ï—Å–ª–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ MongoDB 7.0
sudo ./setup_mongodb.sh -v 7.0 -a
```

### –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º

```bash
# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥
sudo ./setup_mongodb_alternative.sh -v 7.0 -m snap
```

### –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ç–∏
sudo nano /etc/network/interfaces
sudo systemctl restart networking
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—Ä—É–≥–∏—Ö –≤–µ—Ä—Å–∏–π

```bash
# –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É MongoDB 6.0
log_info "–ü—Ä–æ–≤–µ—Ä–∫–∞ MongoDB 6.0..."
check_gpg_key "https://www.mongodb.org/static/pgp/server-6.0.asc"
check_repository "jammy/mongodb-org/6.0"
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥—Ä—É–≥–∏—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤

```bash
# –î–æ–±–∞–≤—å—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É Debian
declare -a distributions=(
    "noble"
    "jammy"
    "focal"
    "bionic"
    "bookworm"  # –î–æ–±–∞–≤—å—Ç–µ —ç—Ç—É —Å—Ç—Ä–æ–∫—É
)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤

```bash
# –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
CURL_TIMEOUT=30
PING_TIMEOUT=10
```

---

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
ip link show

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DHCP
sudo dhclient -r
sudo dhclient

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª
sudo ufw status
sudo iptables -L
```

### –ü—Ä–æ–±–ª–µ–º–∞: DNS –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ resolv.conf
cat /etc/resolv.conf

# –î–æ–±–∞–≤—å—Ç–µ Google DNS
echo "nameserver 8.8.8.8" | sudo tee /etc/resolv.conf
echo "nameserver 8.8.4.4" | sudo tee -a /etc/resolv.conf

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ç—å
sudo systemctl restart systemd-resolved
```

### –ü—Ä–æ–±–ª–µ–º–∞: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ CA —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
sudo apt update
sudo apt install ca-certificates

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞—Ç—É —Å–∏—Å—Ç–µ–º—ã
date
sudo ntpdate pool.ntp.org
```

### –ü—Ä–æ–±–ª–µ–º–∞: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∫—Å–∏
echo $http_proxy
echo $https_proxy

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±–µ–∑ –ø—Ä–æ–∫—Å–∏
unset http_proxy https_proxy
sudo ./debug_mongodb_repo.sh
```

---

## üìù –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –ª–æ–≥–∞

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–µ—Å—å –≤—ã–≤–æ–¥ –≤ —Ñ–∞–π–ª
sudo ./debug_mongodb_repo.sh 2>&1 | tee mongodb_debug_full.log
```

### –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –æ—Ç–ª–∞–¥–∫–æ–π
bash -x ./debug_mongodb_repo.sh
```

### –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ apt

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ apt
sudo cat /var/log/apt/history.log | tail -50

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏
sudo cat /var/log/apt/term.log | tail -50
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞:

```bash
curl -fsSL https://raw.githubusercontent.com/Muhendalf-ru/vps-script/main/debug_mongodb_repo.sh -o debug_mongodb_repo.sh
chmod +x debug_mongodb_repo.sh
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

- **[setup_mongodb.sh](README_mongodb.md)** - –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ MongoDB
- **[setup_mongodb_alternative.sh](README_mongodb_alternative.md)** - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- **[test_mongodb_7.sh](README_mongodb_test.md)** - –ë—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ MongoDB

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –∏ —Ñ–∞–π—Ä–≤–æ–ª
2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã** —É—Å—Ç–∞–Ω–æ–≤–∫–∏
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã** –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
4. **–°–æ–∑–¥–∞–π—Ç–µ issue** –Ω–∞ GitHub —Å –ø–æ–ª–Ω—ã–º –ª–æ–≥–æ–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª [LICENSE](../LICENSE) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
